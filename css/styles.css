.vis-title {
  text-align: center;
  font-size: 2.1em;
  font-weight: 800;
  margin: 24px 0 32px 0;
}

/* Use serif font for visualization titles to match main title styling */
.vis-title, .card h2 {
  font-family: Georgia, 'Times New Roman', Times, serif;
  letter-spacing: 0.2px;
}
/* Shared styles for the combined Tourism Dashboard */
:root{
  /* Crop content to smaller monitor reference */
  --content-width: 900px;
  --max-width: 1920px;
  --page-padding: 12px;
  --card-bg: #ffffff;
  --muted: #666;
  --accent: #0072B2;
}

.vis-title {
  text-align: center;
  font-size: 2.1em;
  font-weight: 800;
  margin: 24px 0 32px 0;
}

/* Use serif font for visualization titles to match main title styling */
.vis-title, .card h2 {
  font-family: Georgia, 'Times New Roman', Times, serif;
  letter-spacing: 0.2px;
}
/* Shared styles for the combined Tourism Dashboard */
/* (removed duplicate :root) */

*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  font-family: 'Open Sans', Arial, sans-serif;
  background: #f0f2f5;
  margin: 0;
  color: #222;
}

.page{
  max-width: var(--max-width);
  width: 100%;
  margin: 0 auto; /* center the modest container */
  padding: var(--page-padding);
}
.page{
  /* Default visible content width: use --content-width to 'crop' empty space. */
  max-width: var(--content-width);
  width: 100%;
  margin: 0 auto; /* center the modest container */
  padding: var(--page-padding);
}

/* Utility: if you want the full wide layout temporarily, add .page--wide to the page element
   or change --content-width at the :root level. The page will use --max-width as an upper bound. */
.page.page--wide{
  max-width: var(--max-width);
}

.site-header h1{ margin: 0 0 6px 0; font-weight: 800; }
.site-header .lead{ margin: 0 0 18px 0; color: var(--muted); }

/*
  Source of the page title:
  - The visible header text "Multiple Visualisations" comes from `index.html` in the top-level
    <header> element:  <header><h1>Multiple Visualisations</h1> ...</header>
  - The browser tab title is set by the <title> element in `index.html` (<title>Multiple Visualisations | An Example</title>).
  This comment documents that the text is provided by the HTML, not the CSS.
  Centering styles below apply to that header.
*/
/* Center the page header shown in index.html (h1 + lead paragraph) */
/* Left-align header so title and lead match page flow */
header{
  text-align: left;
}
header h1{
  margin: 0 0 6px 0;
  font-weight: 800;
  text-align: center; /* keep the main title centered */
  font-family: Georgia, 'Times New Roman', Times, serif; /* serif for title */
}
header .lead{
  margin: 0 0 18px 0;
  color: var(--muted);
  max-width: none; /* allow lead to span full width */
  font-family: Georgia, 'Times New Roman', Times, serif; /* serif for detail */
}

.grid{
  display: grid;
  /* Force single column so visualisations are stacked vertically */
  grid-template-columns: 1fr;
  gap: 20px;
  width: 100%;
}

.card{
  background: var(--card-bg);
  border-radius: 8px;
  padding: 14px 16px;
  box-shadow: 0 1px 3px rgba(10,10,20,0.06);
  margin-bottom: 20px;
}

.card h2{ margin: 0 0 10px 0; font-size: 1.05rem; }
.card h3{ margin: 0 0 8px 0; font-size: 1rem; font-weight: 600; }

/* ===== CHOROPLETH MAP (Arrivals by State) - Hero visualization at top ===== */
.card-hero{
  width: 95%;
  margin-bottom: 16px;
}

.vis-hero{
  min-height: 500px !important;
  max-height: 900px;
}

/* Description card below the choropleth map */
.card-desc{
  width: 90%;
  color: var(--muted);
  font-size: 0.95rem;
  margin-bottom: 48px;
}

/* ===== SIDE-BY-SIDE VISUALIZATIONS (Employment, Tourism Expenditure, GDP/GVA) ===== */
.row{
  display: flex;
  flex-direction: row;
  gap: 20px;
  margin-bottom: 32px;
  align-items: flex-start; /* top-align children so descriptions start at same height as visuals */
}

/* Visualization cards for: Employment, Tourism Expenditure, GDP/GVA */
.card-vis-inline{
  /* Left visual column: flexible but with a sensible minimum so charts/legends fit */
  flex: 1 1 62%;
  min-width: 480px;
  overflow: visible;
}

/* Description cards (right side) for: Employment, Tourism Expenditure, GDP/GVA */
.card-desc-inline{
  /* Right description column: slightly wider and nudged right */
  flex: 0 0 360px;
  max-width: 360px;
  margin-left: 56px; /* increased nudge */
  color: var(--muted);
  font-size: 0.95rem;
  align-self: start;
}

.vis-container{
  width: 100%;
  min-height: 320px;
  /* allow embedded vega elements (legends, controls) to extend without being clipped */
  overflow: visible;
}
.vis-container{
  width: 100%;
  min-height: 320px;
  /* allow embedded vega elements (legends, controls) to extend without being clipped */
  overflow: visible;
  display: block; /* make sizing predictable inside flex children */
}

/* Ensure inline visualizations fit their containers */
.card-vis-inline .vis-container{
  /* let individual vis containers size naturally; avoid an aggressive shared max-height */
  max-height: none;
  min-width: 480px;
}

.card-vis-inline .vis-container,
.card-vis .vis-container {
  max-width: 100%;
}
/* Remove the white card 'container' for visualization and description sections so they don't block visuals */
.card.card-vis-inline,
.card.card-vis,
.card.card-hero,
.card.card-desc,
.card.card-desc-inline,
.card.card-vis-lollipop{
  background: transparent;
  box-shadow: none;
  border-radius: 0;
  padding: 0;
  margin-bottom: 12px;
}

/* When the card wrapper is removed, keep headings spaced correctly */
.card.card-vis-inline h2,
.card.card-hero h2,
.card.card-desc h3,
.card.card-desc-inline h3{
  margin: 8px 0 12px 0;
}
.card.card-vis-inline h2,
.card.card-hero h2,
.card.card-desc h3,
.card.card-desc-inline h3{
  margin: 8px 0 12px 0;
}

/* Specific styling for lollipop chart visualization */
.card-vis-lollipop{
  flex: 0 0 55%;
  min-width: 0;
  max-width: 800px;
  overflow: hidden;
}

.card-vis-lollipop .vis-container{
  max-height: 1100px;
  min-height: 900px;
}

/* Ensure vega embed wrappers and generated svg don't center themselves */
.vis-container .vega-embed{
  width: 100% !important;
  max-width: none !important;
  margin: 0 !important;
  text-align: left !important;
  background: transparent !important; /* allow page background to show */
}
.vis-container .vega-embed{
  width: 100% !important;
  max-width: none !important;
  margin: 0 !important;
  text-align: left !important;
  background: transparent !important; /* allow page background to show */
}

/* Specific alignment tweaks for the GDP / GVA card */
.card-gdp h2.vis-title{ margin-top: 6px; }
.card-gdp .vis-container{ margin-top: 0; }
/* Removed forced width rules to allow responsive behavior inside the visual column. */

/* Reduce the top margin of visualization titles when inside inline cards so
   the visual and its description start at the same vertical position. */
.card-vis-inline .vis-title{
  margin: 8px 0 12px 0; /* smaller top margin for inline visuals */
}

/* Ensure description paragraphs don't add extra top margin that shifts alignment */
.card-desc-inline p, .card-desc p{
  margin-top: 0;
  margin-bottom: 0.85rem;
}

/* Prevent visual containers from introducing unintended vertical spacing */
.card-vis-inline .vis-container, .card-vis .vis-container{
  margin-top: 0;
}

.vis-container .vega-embed > div,
.vis-container svg{
  max-width: none !important;
  margin: 0 !important;
  display: block;
  background: transparent !important; /* remove any white svg/div backgrounds */
}

/* make sure legends/controls inside vega don't get wrapped in white */
.vis-container .vega-embed .vega-actions,
.vis-container .vega-embed .vega-embed-visualization{
  background: transparent !important;
}

.credits{ margin-top: 18px; color: var(--muted); font-size: 0.92rem; }
.error{ color: crimson; white-space: pre-wrap; }

/* Make the layout single column on small screens */
/* Already single-column by default; keep responsive sizing */
@media (max-width: 900px){
  /* Stack side-by-side rows vertically on mobile */
  .row{ flex-direction: column; }
  .card-vis-inline, .card-desc-inline{ 
    flex: 1 1 100%; 
    min-width: 100%;
  }
  .vis-container{ min-height: 300px; }
  .vis-hero{ min-height: 400px !important; }
}

/* Tweak for very narrow screens */
@media (max-width: 420px){
  .page{ padding: 12px; }
  .vis{ min-height: 240px; }
}

/* Prevent horizontal scrolling */
/* Prevent horizontal scrolling */
html, body { overflow-x: hidden; }

.card-row {
    display: flex;
    flex-wrap: wrap;
    gap: 24px;
    align-items: flex-start; /* keep top-aligned */
}

/* Left visual card: allow it to grow but give room to the right column */
.card-vis-inline {
    flex: 1 1 65%;
    min-width: 420px;
    box-sizing: border-box;
}

/* Right description column: make it wider and move it further right */
.card-desc-inline {
    flex: 0 0 360px;   /* increase width of description column */
    max-width: 360px;
    margin-left: 40px; /* push a bit more to the right */
    align-self: flex-start;
    box-sizing: border-box;
}

/* Ensure Vega embeds scale to their container and legends don't wrap badly */
.card-vis-inline .vis-container,
.card-vis .vis-container {
    width: 100%;
    max-width: 100%;
    overflow: visible;
}
